<html>
  <head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>React | 亡灵</title>
<link rel="shortcut icon" href="https://XinLingJ.github.io//favicon.ico?v=1623737092542">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://XinLingJ.github.io//styles/main.css">

<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>



  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://XinLingJ.github.io/">
  <img class="avatar" src="https://XinLingJ.github.io//images/avatar.png?v=1623737092542" alt="">
  </a>
  <h1 class="site-title">
    亡灵
  </h1>
  <p class="site-description">
    温故而知新
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>


        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              React
            </h2>
            <div class="post-info">
              <time class="post-time">
                · 2019-10-13 ·
              </time>
              
                <a href="https://XinLingJ.github.io/tag/gridea/" class="post-tag">
                  # Gridea
                </a>
              
            </div>
            
              <div class="post-feature-image" style="background-image: url('https://XinLingJ.github.io//post-images/a-da.jpeg')">
              </div>
            
            <div class="post-content">
              <p>三大框架：<br>
vue（mvvm）最火的:知道的人越来越多，国产的<br>
react（v）最流行的：使用的人最多，欧洲比较火<br>
angular（mvc）最早的</p>
<!-- more -->
<p>库：小而巧，可以从一个库切换到另一个库，比较方便使用<br>
框架：大而全：框架提供了一整套的解决方案，如果中途想换框架，比较难</p>
<!-- more -->
<p>react：用于构建用户界面的 JavaScript 库<br>
react和vue对比：<br>
模块化:从代码的复用角度来分析的，主要将一些可以重复利用的代码抽离形成单独的文件，利于项目的维护和开发<br>
组件化:从ui界面的角度来分析的，主要将一些可以复用的ui元素抽离为单独的组件，利于项目的维护和开发<br>
组件：<br>
vue:Vue.component()<br>
xxx.vue<br>
template(结构)   script(行为)   style(样式)<br>
react:组件中结构、行为、样式都使用js语言实现。<br>
团队：<br>
react团队比较强大，发行时间早</p>
<!-- more -->
<p>1:下载使用：<br>
react.js     reactDOM.js     babel.js<br>
react:https:// unpkg.com/react@16/umd/react.development.js<br>
// https://unpkg.com/react@16/umd/react.production.min.js<br>
react-dom:// https://unpkg.com/react-dom@16/umd/react-dom.development.js<br>
// https://unpkg.com/react-dom@16/umd/react-dom.production.min.js</p>
<p>babel:Babel 是一个 JavaScript 编译器<br>
用于将 ECMAScript 2015+ 版本的代码转换为向后兼容的 JavaScript 语法，以便能够运行在当前和旧版本的浏览器或其他环境中<br>
https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js</p>
<pre><code>	2:元素渲染： ReactDOM.render(x,挂载点元素)
</code></pre>
<h2 id="3组件定义31-标签组件var-xreactcreateelementdivtitlexxxdiv的内容32-jsx语法script-typetextbabelvar-xh1-title1111a-hrefxxx我是超链接abra-hrefxxx我是超链接2ah1reactdomrenderx挂载点元素33-函数式的组件var-elementfunctionreturn-h1-title1111a-hrefxxx我是超链接abra-hrefxxx我是超链接2ah1reactdomrenderxdocumentgetelementbyidapp首字母大写reactdomrenderelementelementdocumentgetelementbyidappreactdomrenderelementdocumentgetelementbyidapp34-es6语法class-els-extends-reactcomponentrenderreturn-ulli11111lili11111lili11111lili11111lili11111liul4数据绑定-变量-表达式-双向绑定thissetstatexxxxxx属性绑定-titlexxx-v-bind-类名绑定-classname-classactivetrue样式绑定-style-thisobj-stylethisobjcoloryellow事件绑定-onclickthisfn3-v-on-click循环绑定条件绑定作业悬浮变色-thisstatebxxxxxxxxxxxxreact02回顾三个文件reactjs-react-domjs-babeljs高版本的js向后兼容让浏览器可以识别渲染元素reactdomrenderels挂在点组件元素组件jsx-javascript-xmlscript-typetextbabelscriptvar-elsdivdiv函数式var-elsfunctionreturn-div11111divreactdomrenderelsappes6语法class-els-extends-reactcomponentstateconstructorsuperthisstatea10renderreturn-div11111div数据渲染-thissetstateaxxx属性绑定titlethisstatea-v-bind-类名绑定classname-classactivetrue样式绑定styleobj-objcolorred-style事件绑定onclick-thisfnxx">3:组件定义：<br>
3.1 标签组件<br>
var x=React.createElement(&quot;div&quot;,{title:xxx},&quot;div的内容&quot;)<br>
3.2 JSX语法<br>
script type=&quot;text/babel&quot;<br>
var x=<h1 title="1111"><br>
<a href="xxx">我是超链接</a><br>
<br/><br>
<a href="xxx">我是超链接2</a><br>
</h1><br>
ReactDOM.render(x,挂载点元素)<br>
3.3 函数式的组件：<br>
var Element=function(){<br>
return (<br>
<h1 title="1111"><br>
<a href="xxx">我是超链接</a><br>
<br/><br>
<a href="xxx">我是超链接2</a><br>
</h1><br>
)<br>
}<br>
//ReactDOM.render(x(),document.getElementById(&quot;app&quot;))<br>
首字母大写<br>
//ReactDOM.render(<Element></Element>,document.getElementById(&quot;app&quot;))<br>
ReactDOM.render(<Element/>,document.getElementById(&quot;app&quot;))<br>
3.4 es6语法：<br>
class Els extends React.Component{<br>
render(){<br>
return (<br>
<ul><br>
<li>11111</li><br>
<li>11111</li><br>
<li>11111</li><br>
<li>11111</li><br>
<li>11111</li><br>
</ul><br>
)<br>
}<br>
}<br>
4:数据绑定：     {变量、表达式}            {{}}<br>
双向绑定：this.setState({xxx:xxx})<br>
属性绑定：     title={xxx}               v-bind   :<br>
类名绑定       className={}             :class={active:true}<br>
样式绑定       style={ this.obj }       :style={}<br>
this.obj={color:&quot;yellow&quot;}<br>
事件绑定       onClick={()=&gt;{this.fn(3)}}                  v-on  @click<br>
循环绑定<br>
条件绑定<br>
作业<br>
悬浮变色：  this.state.b==xxxx?xxxx:xxxx<br>
react02<br>
回顾<br>
三个文件：react.js   react-dom.js   babel.js(高版本的js向后兼容，让浏览器可以识别)<br>
渲染元素：<br>
ReactDOM.render(<Els/>,挂在点)<br>
组件：<br>
元素组件：JSX---javaScript XML<br>
<script type="text/babel"></script><br>
var Els=<div></div><br>
函数式：<br>
var els=function(){<br>
return (<div>11111<div>)<br>
}<br>
ReactDOM.render(els(),app)<br>
ES6语法：<br>
class Els extends React.Component{<br>
//state={}<br>
constructor(){<br>
super()<br>
this.state={<br>
a:10<br>
}<br>
}<br>
render(){<br>
return (<div>11111</div>)<br>
}<br>
}<br>
数据渲染：{}                        {{}}<br>
this.setState({a:xxx})<br>
属性绑定：title={this.state.a}      v-bind :<br>
类名绑定：className={}              :class={active:true}<br>
样式绑定：style={obj}  obj={color:red}   :style={}<br>
事件绑定：onClick ={()=&gt;{this.fn(xx)}}</h2>
<h2 id="1悬浮变色2条件绑定thisstatea5thisstatea10li11111lili33333lili22222lithisstatea5-liaaaaalithisstatea5-libbbbbli如果组件的内容比较长可以单独设置为独立的js文件然后引入到页面中3循环渲染arrmapfunctionvireturn-livli4fetch发送ajaxfetchhttplocalhost3000vuenums0thenfunctionres-consolelogresreturn-resjsonthenfunctiond-_thissetstatearrdarr5lunbo练习lunbo26生命周期httpsreact-1251415695cos-websiteap-chengdumyqcloudcomdocsreact-componenthtml创建前-后-挂在前-后-更新前-后-销毁前-后61-挂载当组件实例被创建并插入-dom-中时constructorstatic-getderivedstatefrompropsrendercomponentdidmount主要62-更新当组件的-props-或-state-发生变化时会触发更新static-getderivedstatefrompropsrendercomponentdidupdate主要63-卸载当组件从-dom-中移除时会调用componentwillunmount64-错误处理当渲染过程生命周期或子组件的构造函数中抛出错误时static-getderivedstatefromerrorcomponentdidcatch7组件传值父-子props父组件-stateaaaa子组件-自定义属性xxxx子组件子组件中thispropsshu子-父子组件-自定义事件父的属性函数子组件中thisprops自定义事件data父组件中属性nthissetstatexxn">1:悬浮变色<br>
2:条件绑定：<br>
{this.state.a&gt;=5?this.state.a&lt;10?(<li>11111</li>)😦<li>33333</li>)😦<li>22222</li>)}<br>
{this.state.a&gt;5 &amp;&amp; (<li>aaaaa</li>)}<br>
{this.state.a&lt;=5 &amp;&amp; (<li>bbbbb</li>)}<br>
如果组件的内容比较长，可以单独设置为独立的js文件，然后引入到页面中		<br>
3:循环渲染：<br>
arr.map(function(v,i){return (<li>{v}</li>)})<br>
4:fetch:发送ajax<br>
fetch(&quot;http://localhost:3000/vue?nums=0&quot;)<br>
.then(function(res){<br>
// console.log(res)<br>
return res.json()<br>
})<br>
.then(function(d){  						<br>
_this.setState({arr:d.arr})<br>
})<br>
5:lunbo练习：lunbo2<br>
6:生命周期：https://react-1251415695.cos-website.ap-chengdu.myqcloud.com/docs/react-component.html<br>
创建前、后----挂在前、后---更新前、后---销毁前、后<br>
6.1 挂载：当组件实例被创建并插入 DOM 中时<br>
constructor<br>
static getDerivedStateFromProps()<br>
render()<br>
componentDidMount():主要<br>
6.2 更新：当组件的 props 或 state 发生变化时会触发更新<br>
static getDerivedStateFromProps()<br>
render()<br>
componentDidUpdate:主要<br>
6.3 卸载：当组件从 DOM 中移除时会调用<br>
componentWillUnmount()<br>
6.4 错误处理：当渲染过程，生命周期，或子组件的构造函数中抛出错误时<br>
static getDerivedStateFromError()<br>
componentDidCatch()<br>
7:组件传值：<br>
父--子：props<br>
父组件 state={a:aaa}<br>
&lt;子组件  自定义属性=xxxx&gt;&lt;/子组件&gt;<br>
子组件中：this.props.shu<br>
子--父：子组件  自定义事件={父的属性：函数}<br>
子组件中：this.props.自定义事件(data)<br>
父组件中：属性=(n)=&gt;{<br>
this.setState({xx:n}<br>
)</h2>
<h2 id="zuoye轮播自动">zuoye:轮播自动</h2>
<p>reac03<br>
复习：<br>
生命周期：<br>
挂载:constructor---- static getDerivedStateFromProps()----render----componentDidMount<br>
更新:static getDerivedStateFromProps()---render---componentDidUpdate<br>
卸载:componentWillUnmount()<br>
报错:componentDidCatch()<br>
组件的传值：<br>
父--子：<my-com shu={this.state.a}/><br>
<div>this.props.shu</div><br>
子--父：子：b=100;<br>
<my-com ziC={this.fn}/><br>
&lt;button onClick={()=&gt;{this.fn1()}}&gt;</button><br>
fn1(){<br>
this.props.ziC(this.state.b)<br>
}<br>
父:<br>
fn(n){<br>
this.setState({a:n})<br>
}<br>
1:插槽：slot:组件中的内容可以在子组件中显示<br>
this.props.children<br>
2:脚手架：<br>
node:express-generator<br>
vue:vue-cli<br>
react:create-react-app:一个构建React单页面应用的脚手架工具<br>
3:安装：<br>
全局安装：<br>
npm install create-react-app -g<br>
构建项目：<br>
create-react-app xxx<br>
cd  xxx<br>
npm  start：运行<br>
3:文件的组成<br>
node_modules---依赖包<br>
public:静态文件<br>
src:源码：app.js   index.js<br>
packgage.json---配置文件</p>
<p>public：index.html是首页<br>
src:index.js---渲染文件<br>
App.js:组件的内容</p>
<pre><code>卸载： npm uninstall -g create-react-app
</code></pre>
<p>查看 react 信息   npm info react(<br>
4:npm cache clean --force:清除npm缓存<br>
5:修改端口地址：<br>
node_modules---react-scripts---scripts---start.js--xxx<br>
6:卸载：npm uninstall -g create-react-app<br>
7:vs code----编辑器<br>
8:src中创建一个components文件<br>
组件为jsx文件<br>
格式：<br>
import React,{Component} from &quot;react&quot;;</p>
<pre><code>  class A1 extends  React.Component{
  	 render(){
  		 return (
  		   &lt;div&gt;111111&lt;/div&gt;
  		 )
  	 }
  }
  
  export default A1;
</code></pre>
<h2 id="引入appjs中import-a1-from-componentsmod1使用-a1a1或者-a19jsx注释-mainmain">引入：app.js中<br>
import A1 from &quot;./components/mod1&quot;<br>
使用: <A1></A1>或者  <A1/><br>
9:jsx:注释：  {/**  <Main></Main> */}</h2>
<p>作业<br>
在组件的基础上<br>
点击按钮时：切换轮播图和悬浮变色<br>
轮播为完整轮播图</p>
<h2 id="悬浮的标记为数据库的数据形成分页">悬浮的标记为数据库的数据，形成分页</h2>
<p>react04<br>
1:作业<br>
图片：public：直接同级文件找就可以<br>
组件中：require(&quot;./img/xxx.jpg&quot;)<br>
&lt;img src={require(&quot;./img/banner&quot;+(i+1)+&quot;.jpg&quot;)}/&gt;<br>
2:返回的数据是标记时:__html固定的</p>
  <p dangerouslySetInnerHTML={{__html:v.password}}></p>
3:路由：react-router-dom
  3.1 安装：
      npm install react-router-dom --save
  3.2 引入：
      import {BrowserRouter,Link,Route} from "react-router-dom"
  3.3 使用：
      <BrowserRouter>
	       超链接的格式
           <Link to="/">demo01</Link>/
           <Link to="/bb">lunbo</Link>/
           <Link to="/cc">demo02</Link>/
<pre><code>	   路由地址
      &lt;Route exact path=&quot;/&quot; component={Demo01}&gt;&lt;/Route&gt;
      &lt;Route exact path=&quot;/bb&quot; component={Lunbo}&gt;&lt;/Route&gt;
      &lt;Route exact path=&quot;/cc&quot; component={Demo02}&gt;&lt;/Route&gt;
  &lt;/BrowserRouter&gt;
</code></pre>
<p>3.4 exact:精确匹配<br>
3.5 路由传参：<br>
<Route path="/cc"><br>
<Route exact path="/cc" component={Demo02}></Route><br>
<Route exact path="/cc/:nums" component={Demo02}></Route><br>
</Route><br>
传参：<br>
<Link to="/cc/30">demo02传参1</Link>/<br>
获取数据：<br>
constructor和componentDidUpdate()中获取<br>
constructor(props){//props需要写入<br>
super(props)<br>
console.log(this.props.match.params.nums)//字符类型<br>
}<br>
3.6 子路由<br>
需要在父路由地址的基础上，写子路有<br>
父路由：/aaa<br>
子路由：/aaa/xxx/:n<br>
在组件中如果需要写子路有，不需要引入BrowserRouter,需要引入Link和Route<br>
4:componentDidUpdata(pre)：<br>
在这个中不能直接使用setState():会陷入无限循环，所以，需要判断<br>
pre:之前的数据<br>
if(this.props.match.params.n!=prevState.match.params.n)</p>

            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://XinLingJ.github.io/post/vue/">
              <h3 class="post-title">
                Vue
              </h3>
            </a>
          </div>
        

        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | 
  <a class="rss" href="https://XinLingJ.github.io//atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

      </div>
    </div>
  </body>
</html>
